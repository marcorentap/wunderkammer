import{r as d,j as h,L as A}from"./index-DVjwH1mL.js";import{r as $,i as X,f as v,c as T,p as G,v as K,a as U,b as _,d as J,e as q,n as N,g as Q,s as Z,u as ee,h as te,j as O,k as y,m as I}from"./proxy-B_QJv2uR.js";const W=new WeakMap;let L;const D=(e,t,n)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:X(s)&&"getBBox"in s?s.getBBox()[t]:s[n],se=D("inline","width","offsetWidth"),ne=D("block","height","offsetHeight");function re({target:e,borderBoxSize:t}){W.get(e)?.forEach(n=>{n(e,{get width(){return se(e,t)},get height(){return ne(e,t)}})})}function le(e){e.forEach(re)}function oe(){typeof ResizeObserver>"u"||(L=new ResizeObserver(le))}function ie(e,t){L||oe();const n=$(e);return n.forEach(s=>{let r=W.get(s);r||(r=new Set,W.set(s,r)),r.add(t),L?.observe(s)}),()=>{n.forEach(s=>{const r=W.get(s);r?.delete(t),r?.size||L?.unobserve(s)})}}const H=new Set;let m;function ce(){m=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};H.forEach(t=>t(e))},window.addEventListener("resize",m)}function fe(e){return H.add(e),m||ce(),()=>{H.delete(e),!H.size&&typeof m=="function"&&(window.removeEventListener("resize",m),m=void 0)}}function ue(e,t){return typeof e=="function"?fe(e):ie(e,t)}function V(e,t){let n;const s=()=>{const{currentTime:r}=t,o=(r===null?0:r.value)/100;n!==o&&e(o),n=o};return v.preUpdate(s,!0),()=>T(s)}const ae=50,b=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),he=()=>({time:0,x:b(),y:b()}),de={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function k(e,t,n,s){const r=n[t],{length:l,position:o}=de[t],c=r.current,f=n.time;r.current=e[`scroll${o}`],r.scrollLength=e[`scroll${l}`]-e[`client${l}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=G(0,r.scrollLength,r.current);const i=s-f;r.velocity=i>ae?0:K(r.current-c,i)}function ge(e,t,n){k(e,"x",t,n),k(e,"y",t,n),t.time=n}function me(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(U(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=r.left-l.left,n.y+=r.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:l}=s.getBBox();n.x+=r,n.y+=l;let o=null,c=s.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=s.parentNode;s=o}else break;return n}const S={start:0,center:.5,end:1};function R(e,t,n=0){let s=0;if(e in S&&(e=S[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?s=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?s=r/100*document.documentElement.clientWidth:e.endsWith("vh")?s=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(s=t*e),n+s}const pe=[0,0];function we(e,t,n,s){let r=Array.isArray(e)?e:pe,l=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,S[e]?e:"0"]),l=R(r[0],n,s),o=R(r[1],t),l-o}const ve={All:[[0,0],[1,1]]},ye={x:0,y:0};function xe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Ee(e,t,n){const{offset:s=ve.All}=n,{target:r=e,axis:l="y"}=n,o=l==="y"?"height":"width",c=r!==e?me(r,e):ye,f=r===e?{width:e.scrollWidth,height:e.scrollHeight}:xe(r),i={width:e.clientWidth,height:e.clientHeight};t[l].offset.length=0;let u=!t[l].interpolate;const p=s.length;for(let a=0;a<p;a++){const w=we(s[a],i[o],f[o],c[l]);!u&&w!==t[l].interpolatorOffsets[a]&&(u=!0),t[l].offset[a]=w}u&&(t[l].interpolate=_(t[l].offset,J(s),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=q(0,1,t[l].interpolate(t[l].current))}function We(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Le(e,t,n,s={}){return{measure:r=>{We(e,s.target,n),ge(e,n,r),(s.offset||s.target)&&Ee(e,n,s)},notify:()=>t(n)}}const g=new WeakMap,P=new WeakMap,z=new WeakMap,B=new WeakMap,x=new WeakMap,C=e=>e===document.scrollingElement?window:e;function F(e,{container:t=document.scrollingElement,trackContentSize:n=!1,...s}={}){if(!t)return N;let r=z.get(t);r||(r=new Set,z.set(t,r));const l=he(),o=Le(t,e,l,s);if(r.add(o),!g.has(t)){const f=()=>{for(const a of r)a.measure(Q.timestamp);v.preUpdate(i)},i=()=>{for(const a of r)a.notify()},u=()=>v.read(f);g.set(t,u);const p=C(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&P.set(t,ue(t,u)),p.addEventListener("scroll",u,{passive:!0}),u()}if(n&&!x.has(t)){const f=g.get(t),i={width:t.scrollWidth,height:t.scrollHeight};B.set(t,i);const u=()=>{const a=t.scrollWidth,w=t.scrollHeight;(i.width!==a||i.height!==w)&&(f(),i.width=a,i.height=w)},p=v.read(u,!0);x.set(t,p)}const c=g.get(t);return v.read(c,!1,!0),()=>{T(c);const f=z.get(t);if(!f||(f.delete(o),f.size))return;const i=g.get(t);g.delete(t),i&&(C(t).removeEventListener("scroll",i),P.get(t)?.(),window.removeEventListener("resize",i));const u=x.get(t);u&&(T(u),x.delete(t)),B.delete(t)}}const j=new Map;function He(e){const t={value:0},n=F(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function Y({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const r=j.get(t)??new Map;j.set(t,r);const l=n.target??"self",o=r.get(l)??{},c=s+(n.offset??[]).join(",");return o[c]||(o[c]=!n.target&&Z()?new ScrollTimeline({source:t,axis:s}):He({container:t,...n})),o[c]}function ze(e,t){const n=Y(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),V(r=>{s.time=s.iterationDuration*r},n))})}function Te(e){return e.length===2}function Se(e,t){return Te(e)?F(n=>{e(n[t.axis].progress,n)},t):V(e,Y(t))}function Oe(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return N;const r={axis:t,container:n,...s};return typeof e=="function"?Se(e,r):ze(e,r)}const be=()=>({scrollX:y(0),scrollY:y(0),scrollXProgress:y(0),scrollYProgress:y(0)}),E=e=>e?!e.current:!1;function ke({container:e,target:t,...n}={}){const s=ee(be),r=d.useRef(null),l=d.useRef(!1),o=d.useCallback(()=>(r.current=Oe((c,{x:f,y:i})=>{s.scrollX.set(f.current),s.scrollXProgress.set(f.progress),s.scrollY.set(i.current),s.scrollYProgress.set(i.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{r.current?.()}),[e,t,JSON.stringify(n.offset)]);return te(()=>{if(l.current=!1,E(e)||E(t)){l.current=!0;return}else return o()},[o]),d.useEffect(()=>{if(l.current)return O(!E(e)),O(!E(t)),o()},[o]),s}function Re(){return h.jsx(A,{to:"/norgram",className:"font-bold",children:"Norgram.co"})}function Pe(){return h.jsx(A,{to:"/dummy",className:"font-bold",children:"Dummy Item"})}function M(e){const t=d.useRef(null),[n,s]=d.useState(0),{scrollYProgress:r}=ke({container:e.scrollRef,target:t,offset:["end end","start start"]});return d.useEffect(()=>r.onChange(l=>{s(l)})),h.jsx(I.div,{ref:t,style:{opacity:1-10*Math.pow(n-.5,2),filter:`blur(${10*Math.pow(n-.5,2)}px)`},children:e.children})}function je(){const e=d.useRef(null);return h.jsxs(I.div,{ref:e,className:"flex flex-col gap-12 w-dvw h-200 text-center text-3xl overflow-y-scroll overflow-x-hidden pb-[50dvh] pt-[50dvh]",children:[h.jsx(M,{scrollRef:e,children:h.jsx(Re,{})}),Array.from({length:100}).map((t,n)=>h.jsx(M,{scrollRef:e,children:h.jsx(Pe,{})},n))]})}export{je as component};
